WebClient.create()
    .method(request.getMethod())
    .uri(finalTargetUri)
    .headers(headers -> {
        request.getHeaders().forEach((name, values) -> {
            if (!excludedHeaders.contains(name) && !name.toLowerCase().startsWith("x-")) {
                headers.addAll(name, values);
            }
        });
        headers.set(HttpHeaders.AUTHORIZATION, "Bearer " + token);
    })
    .body(BodyInserters.fromPublisher(request.getBody(), DataBuffer.class))
    .retrieve()
    .bodyToMono(String.class)
    .flatMap(response -> handleResponse(exchange, response));
